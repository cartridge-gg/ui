{"version":3,"file":"container.js","sourceRoot":"","sources":["../../../src/components/layout/container.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,EAAE,EAAE,MAAM,SAAS,CAAC;AACvC,OAAO,EAA0B,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACpE,OAAO,EAAE,aAAa,EAAgB,MAAM,WAAW,CAAC;AAExD,MAAM,UAAU,aAAa,CAAC,KAAa;IACzC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE9C,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACvC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAE1B,MAAM,QAAQ,GAAG,CAAC,CAAsB,EAAE,EAAE;YAC1C,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACxB,CAAC,CAAC;QAEF,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC3C,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAEZ,OAAO,OAAO,CAAC;AACjB,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,EAC9B,QAAQ,EACR,SAAS,GAKV;IACC,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC5D,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAe,MAAM,CAAC,CAAC;IAEvE,OAAO,CACL,KAAC,aAAa,CAAC,QAAQ,IACrB,KAAK,EAAE;YACL,cAAc;YACd,iBAAiB;YACjB,YAAY;YACZ,eAAe;SAChB,YAED,MAAC,iBAAiB,eAChB,cACE,SAAS,EAAE,EAAE,CACX,sDAAsD,EACtD,iCAAiC,EAAE,yCAAyC;oBAC5E,cAAc;wBACZ,CAAC,CAAC,qBAAqB;wBACvB,CAAC,CAAC,+BAA+B,CACpC,EACD,OAAO,EAAE,GAAG,EAAE,CAAC,iBAAiB,CAAC,KAAK,CAAC,GACvC,EACF,cACE,SAAS,EAAE,EAAE,CACX,qDAAqD,EACrD,SAAS,CACV,EACD,KAAK,EAAE,EAAE,cAAc,EAAE,MAAM,EAAE,YAEhC,QAAQ,GACL,IACY,GACG,CAC1B,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,EAAE,QAAQ,EAAqB;IACxD,MAAM,SAAS,GAAG,aAAa,CAAC,oBAAoB,CAAC,CAAC;IAEtD,IAAI,SAAS,EAAE,CAAC;QACd,OAAO,CACL,cAAK,SAAS,EAAC,iDAAiD,YAC9D,cACE,SAAS,EAAE,EAAE,CACX,uGAAuG,EACvG,CAAC,QAAQ,EAAE,IAAI,yBAAyB,CACzC,YAEA,QAAQ,GACL,GACF,CACP,CAAC;IACJ,CAAC;IAED,OAAO,CACL,cAAK,SAAS,EAAC,mEAAmE,YAC/E,QAAQ,GACL,CACP,CAAC;AACJ,CAAC","sourcesContent":["import { isIframe, cn } from \"@/utils\";\nimport { type PropsWithChildren, useEffect, useState } from \"react\";\nimport { LayoutContext, BottomLayout } from \"./context\";\n\nexport function useMediaQuery(query: string) {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    setMatches(media.matches);\n\n    const listener = (e: MediaQueryListEvent) => {\n      setMatches(e.matches);\n    };\n\n    media.addEventListener(\"change\", listener);\n    return () => media.removeEventListener(\"change\", listener);\n  }, [query]);\n\n  return matches;\n}\n\nexport function LayoutContainer({\n  children,\n  className,\n}: PropsWithChildren & {\n  className?: string;\n  modal?: boolean;\n  onModalClick?: () => void;\n}) {\n  const [withBackground, setWithBackground] = useState(false);\n  const [bottomLayout, setBottomLayout] = useState<BottomLayout>(\"none\");\n\n  return (\n    <LayoutContext.Provider\n      value={{\n        withBackground,\n        setWithBackground,\n        bottomLayout,\n        setBottomLayout,\n      }}\n    >\n      <ResponsiveWrapper>\n        <div\n          className={cn(\n            \"fixed inset-0 bg-translucent-dark-200 opacity-0 z-50\",\n            \"transition-opacity duration-150\", // This duration manage the modal fade in\n            withBackground\n              ? \"opacity-100 visible\"\n              : \"invisible pointer-events-none\",\n          )}\n          onClick={() => setWithBackground(false)}\n        />\n        <div\n          className={cn(\n            \"flex flex-col flex-1 min-h-0 overflow-x-hidden z-10\",\n            className,\n          )}\n          style={{ scrollbarWidth: \"none\" }}\n        >\n          {children}\n        </div>\n      </ResponsiveWrapper>\n    </LayoutContext.Provider>\n  );\n}\n\nfunction ResponsiveWrapper({ children }: PropsWithChildren) {\n  const isDesktop = useMediaQuery(\"(min-width: 768px)\");\n\n  if (isDesktop) {\n    return (\n      <div className=\"flex w-screen h-dvh items-center justify-center\">\n        <div\n          className={cn(\n            \"w-desktop border border-background-200 rounded-xl flex flex-col relative overflow-hidden align-middle\",\n            !isIframe() && \"w-[432px] max-h-[600px]\",\n          )}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-screen h-dvh max-w-desktop relative flex flex-col bg-background\">\n      {children}\n    </div>\n  );\n}\n"]}