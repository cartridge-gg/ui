{"version":3,"file":"controller-toaster.js","sourceRoot":"","sources":["../../../../src/components/primitives/toast/controller-toaster.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport {\n  showErrorToast,\n  showSuccessToast,\n  showTransactionToast,\n  showMarketplaceToast,\n  showAchievementToast,\n  showNetworkSwitchToast,\n} from \"@/components/primitives/toast/specialized-toasts\";\nimport { useToast, ToasterToast } from \"./use-toast\";\nimport {\n  ToastPosition,\n  ErrorToastOptions,\n  SuccessToastOptions,\n  TransactionToastOptions,\n  MarketplaceToastOptions,\n  AchievementToastOptions,\n  CONTROLLER_TOAST_MESSAGE_TYPE,\n  NetworkSwitchToastOptions,\n} from \"./types\";\nimport { SonnerToaster } from \"@/components/primitives/sonner\";\n\nexport type ControllerNotificationTypes =\n  | \"error\"\n  | \"success\"\n  | \"network-switch\"\n  | \"transaction\"\n  | \"marketplace\"\n  | \"achievement\";\n\nexport function ControllerToaster({\n  position = \"bottom-right\",\n  disabledTypes = [],\n  collapseTransactions,\n  toasterId,\n}: {\n  position?: ToastPosition;\n  disabledTypes?: ControllerNotificationTypes[];\n  collapseTransactions?: boolean;\n  toasterId?: string | undefined;\n}) {\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const eventHandler = (event: any) => {\n      const variant =\n        event.data.type === CONTROLLER_TOAST_MESSAGE_TYPE\n          ? event.data.options.variant\n          : undefined;\n      if (!variant) return;\n\n      if (variant == \"error\" && !disabledTypes.includes(\"error\")) {\n        const options = event.data.options as ErrorToastOptions;\n        toast(\n          showErrorToast({\n            ...options,\n            toasterId,\n          }) as ToasterToast,\n        );\n      } else if (variant == \"success\" && !disabledTypes.includes(\"success\")) {\n        const options = event.data.options as SuccessToastOptions;\n        toast(\n          showSuccessToast({\n            ...options,\n            toasterId,\n          }) as ToasterToast,\n        );\n      } else if (\n        variant == \"network-switch\" &&\n        !disabledTypes.includes(\"network-switch\")\n      ) {\n        const options = event.data.options as NetworkSwitchToastOptions;\n        toast(\n          showNetworkSwitchToast({\n            ...options,\n            toasterId,\n          }) as ToasterToast,\n        );\n      } else if (\n        variant == \"transaction\" &&\n        !disabledTypes.includes(\"transaction\")\n      ) {\n        const options = event.data.options as TransactionToastOptions;\n        toast(\n          showTransactionToast({\n            ...options,\n            isExpanded:\n              collapseTransactions !== undefined ? !collapseTransactions : true,\n            duration: options.status == \"confirming\" ? 0 : options.duration,\n            toasterId,\n          }) as ToasterToast,\n        );\n      } else if (\n        variant == \"marketplace\" &&\n        !disabledTypes.includes(\"marketplace\")\n      ) {\n        const options = event.data.options as MarketplaceToastOptions;\n        toast(\n          showMarketplaceToast({\n            title: `${options.action[0].toUpperCase()}${options.action.slice(1)}`,\n            ...options,\n            toasterId,\n          }) as ToasterToast,\n        );\n      } else if (\n        variant == \"achievement\" &&\n        !disabledTypes.includes(\"achievement\")\n      ) {\n        const options = event.data.options as AchievementToastOptions;\n        toast(\n          showAchievementToast({\n            ...options,\n            toasterId,\n          }) as ToasterToast,\n        );\n      }\n    };\n    window.addEventListener(\"message\", eventHandler);\n    return () => {\n      window.removeEventListener(\"message\", eventHandler);\n    };\n  }, [disabledTypes.join(\",\"), collapseTransactions, toasterId]);\n\n  return <SonnerToaster position={position} toasterId={toasterId} />;\n}\n"]}