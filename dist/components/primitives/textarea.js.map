{"version":3,"file":"textarea.js","sourceRoot":"","sources":["../../../src/components/primitives/textarea.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/utils\";\nimport { Clear } from \"./clear\";\nimport { cva, VariantProps } from \"class-variance-authority\";\nimport { ErrorMessage } from \"@/index\";\n\nexport const textareaVariants = cva(\n  \"flex w-full resize-none overflow-hidden rounded-md border px-4 font-mono ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0 [&::-webkit-inner-spin-button]:appearance-none\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border bg-background-200 border-background-300 text-foreground-100 hover:border-background-400 focus-visible:border-primary focus-visible:bg-background-300 placeholder:text-foreground-400\",\n        username:\n          \"border bg-background-200 border-background-300 text-foreground-100 placeholder:text-foreground-400\",\n      },\n      size: {\n        // The is no text alignment in the textarea, so we need to use padding from top to align the text taking line-height into account\n        default: \"py-[10.3px] min-h-10 h-10 text-sm/[18px]\",\n        lg: \"py-[13.3px] min-h-12 h-12 text-[15px]/5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\ninterface TextareaProps\n  extends Omit<React.TextareaHTMLAttributes<HTMLTextAreaElement>, \"size\">,\n    VariantProps<typeof textareaVariants> {\n  error?: Error;\n  isLoading?: boolean;\n  onClear?: () => void;\n}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ error, isLoading, onClear, variant, size, className, ...props }, ref) => {\n    const internalRef = React.useRef<HTMLTextAreaElement>(null);\n    React.useImperativeHandle(ref, () => internalRef.current!);\n\n    React.useEffect(() => {\n      if (internalRef.current) {\n        internalRef.current.style.height = \"1px\";\n        internalRef.current.style.height = `${internalRef.current.scrollHeight}px`;\n      }\n    }, [props.value]);\n\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [isHovered, setIsHovered] = React.useState(false);\n\n    return (\n      <div className=\"flex flex-col gap-y-3\">\n        <div\n          className=\"relative\"\n          onMouseEnter={() => setIsHovered(true)}\n          onMouseLeave={() => setIsHovered(false)}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n        >\n          <textarea\n            className={cn(\n              textareaVariants({ variant, size, className }),\n              !!props.value && !!onClear && \"pr-12\",\n              !!error &&\n                \"border-destructive-100 hover:border-destructive-100 focus-visible:border-destructive-100\",\n            )}\n            ref={internalRef}\n            {...props}\n          />\n          {(isFocused || isHovered) && !!props.value && !!onClear && (\n            <div className=\"absolute right-1.5 top-1/2 -translate-y-1/2\">\n              <Clear isLoading={!!isLoading} onClear={onClear} />\n            </div>\n          )}\n        </div>\n        {!!error && <ErrorMessage label={error.message} />}\n      </div>\n    );\n  },\n);\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n"]}