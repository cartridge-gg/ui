{"version":3,"file":"collectible-card.js","sourceRoot":"","sources":["../../../../../src/components/modules/activities/card/collectible-card.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC1C,OAAO,EACL,SAAS,EACT,oBAAoB,EACpB,cAAc,EACd,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,SAAS,EACT,mBAAmB,EACnB,uBAAuB,EACvB,UAAU,EACV,SAAS,EACT,cAAc,GACf,MAAM,SAAS,CAAC;AAEjB,OAAO,eAA4C,MAAM,YAAY,CAAC;AACtE,OAAO,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAqBxC,MAAM,CAAC,MAAM,uBAAuB,GAAG,CAAC,EACtC,IAAI,EACJ,OAAO,EACP,QAAQ,EACR,UAAU,EACV,KAAK,EACL,IAAI,EACJ,WAAW,EACX,UAAU,EACV,WAAW,EACX,MAAM,EAAE,UAAU,EAClB,SAAS,EACT,KAAK,EACL,OAAO,EACP,OAAO,EACP,SAAS,EACT,GAAG,KAAK,EACqB,EAAE,EAAE;IACjC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE3C,MAAM,MAAM,GAAG,OAAO,CACpB,GAAG,EAAE,CACH,UAAU,KAAK,SAAS,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;QAC/C,CAAC,CAAC,MAAM;QACR,CAAC,CAAC,UAAU,KAAK,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;YAC9C,CAAC,CAAC,MAAM;YACR,CAAC,CAAC,UAAU,EAClB,CAAC,UAAU,EAAE,OAAO,CAAC,CACtB,CAAC;IAEF,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE;QACxB,QAAQ,MAAM,EAAE,CAAC;YACf,KAAK,MAAM;gBACT,OAAO,KAAC,cAAc,IAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YACtE,KAAK,SAAS;gBACZ,OAAO,KAAC,SAAS,IAAC,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YAChE,KAAK,MAAM;gBACT,OAAO,KAAC,YAAY,IAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YACpE,KAAK,MAAM;gBACT,OAAO,KAAC,QAAQ,IAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YAChE,KAAK,MAAM;gBACT,OAAO,KAAC,OAAO,IAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YAC/D,KAAK,MAAM;gBACT,OAAO,KAAC,SAAS,IAAC,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,eAAe,GAAG,CAAC;YACjE;gBACE,OAAO,SAAS,CAAC;QACrB,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,MAAM,UAAU,GAAG,OAAO,CACxB,GAAG,EAAE,CAAC,CACJ,KAAC,oBAAoB,IACnB,KAAK,EAAE,KAAK,IAAI,EAAE,EAClB,OAAO,EAAC,OAAO,EACf,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,WAAW,GACrB,CACH,EACD,CAAC,KAAK,CAAC,CACR,CAAC;IAEF,MAAM,KAAK,GAAG,OAAO,CAAC,GAAG,EAAE;QACzB,OAAO,CACL,MAAC,cAAc,IACb,OAAO,EAAC,MAAM,EACd,SAAS,EAAC,mCAAmC,aAE5C,UAAU,EACX,YAAG,SAAS,EAAC,iBAAiB,YAAE,IAAI,GAAK,IAC1B,CAClB,CAAC;IACJ,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;IAEvB,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,EAAE;QAC/B,QAAQ,MAAM,EAAE,CAAC;YACf,KAAK,MAAM;gBACT,OAAO,KAAC,mBAAmB,IAAC,KAAK,EAAC,IAAI,GAAG,CAAC;YAC5C,KAAK,SAAS;gBACZ,OAAO,KAAC,mBAAmB,IAAC,KAAK,EAAC,MAAM,GAAG,CAAC;YAC9C,KAAK,MAAM;gBACT,OAAO,KAAC,mBAAmB,IAAC,KAAK,EAAC,QAAQ,GAAG,CAAC;YAChD,KAAK,MAAM;gBACT,OAAO,KAAC,mBAAmB,IAAC,KAAK,EAAC,QAAQ,GAAG,CAAC;YAChD,KAAK,MAAM,CAAC;YACZ,KAAK,MAAM;gBACT,OAAO,KAAC,mBAAmB,IAAC,KAAK,EAAC,KAAK,GAAG,CAAC;YAC7C;gBACE,OAAO,SAAS,CAAC;QACrB,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,MAAM,eAAe,GAAG,OAAO,CAC7B,GAAG,EAAE,CACH,UAAU,CAAC,CAAC,CAAC,CACX,KAAC,SAAS,IACR,IAAI,EAAE,UAAU,EAChB,OAAO,EAAC,OAAO,EACf,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,WAAW,EACrB,OAAO,SACP,CACH,CAAC,CAAC,CAAC,SAAS,EACf,CAAC,UAAU,CAAC,CACb,CAAC;IAEF,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,EAAE;QAC3B,QAAQ,MAAM,EAAE,CAAC;YACf,KAAK,MAAM,CAAC;YACZ,KAAK,SAAS;gBACZ,OAAO,QAAQ,CAAC,CAAC,CAAC,CAChB,MAAC,cAAc,IAAC,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,sBAAsB,aAC7D,KAAC,uBAAuB,IACtB,IAAI,EAAC,IAAI,EACT,SAAS,EAAC,WAAW,EACrB,QAAQ,EAAE,QAAQ,GAClB,EACF,YAAG,SAAS,EAAC,UAAU,YAAE,QAAQ,GAAK,IACvB,CAClB,CAAC,CAAC,CAAC,CACF,MAAC,cAAc,IAAC,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,sBAAsB,aAC7D,KAAC,UAAU,IAAC,OAAO,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,GAAG,EACxC,YAAG,SAAS,EAAC,UAAU,YAAE,aAAa,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,GAAK,IACrD,CAClB,CAAC;YACJ,KAAK,MAAM,CAAC;YACZ,KAAK,MAAM;gBACT,OAAO,CACL,MAAC,cAAc,IAAC,OAAO,EAAC,MAAM,EAAC,SAAS,EAAC,cAAc,aACpD,eAAe,EAChB,sBAAI,WAAY,GAAK,EACpB,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAC7B,sBAAI,WAAW,EAAE,WAAW,EAAE,IAAI,OAAO,GAAK,CAC/C,IACc,CAClB,CAAC;YACJ;gBACE,OAAO,SAAS,CAAC;QACrB,CAAC;IACH,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;IAEtB,OAAO,CACL,KAAC,eAAe,IACd,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,EACV,KAAK,EAAE,CAAC,KAAK,EAAE,WAAW,EAAE,OAAO,CAAC,EACpC,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,OAAO,EAChB,SAAS,EAAE,SAAS,EACpB,YAAY,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,EAClC,YAAY,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,KAC/B,KAAK,GACT,CACH,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,uBAAuB,CAAC","sourcesContent":["import { useMemo, useState } from \"react\";\nimport {\n  ArrowIcon,\n  ThumbnailCollectible,\n  PaperPlaneIcon,\n  SeedlingIcon,\n  FireIcon,\n  TagIcon,\n  MoneyIcon,\n  ActivityPreposition,\n  AchievementPlayerAvatar,\n  WalletIcon,\n  Thumbnail,\n  CollectibleTag,\n} from \"@/index\";\nimport { VariantProps } from \"class-variance-authority\";\nimport ActivityCardRow, { activityCardRowVariants } from \"./card-row\";\nimport { formatAddress } from \"@/utils\";\n\nexport interface ActivityCollectibleCardProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof activityCardRowVariants> {\n  name: string;\n  address: string; // token address\n  username?: string; // token owner username\n  collection?: string;\n  image?: string; // token image\n  logo?: string; // game logo\n  orderAmount?: string; // order amount\n  orderImage?: string; // order token image\n  orderSymbol?: string; // order token symbol (if no image)\n  action: \"send\" | \"receive\" | \"mint\" | \"burn\" | \"list\" | \"sell\";\n  timestamp: number;\n  error?: boolean;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const ActivityCollectibleCard = ({\n  name,\n  address,\n  username,\n  collection,\n  image,\n  logo,\n  orderAmount,\n  orderImage,\n  orderSymbol,\n  action: actionProp,\n  timestamp,\n  error,\n  loading,\n  variant,\n  className,\n  ...props\n}: ActivityCollectibleCardProps) => {\n  const [_hover, setHover] = useState(false);\n\n  const action = useMemo(\n    () =>\n      actionProp === \"receive\" && BigInt(address) == 0n\n        ? \"mint\"\n        : actionProp === \"send\" && BigInt(address) == 0n\n          ? \"burn\"\n          : actionProp,\n    [actionProp, address],\n  );\n\n  const Icon = useMemo(() => {\n    switch (action) {\n      case \"send\":\n        return <PaperPlaneIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"receive\":\n        return <ArrowIcon variant=\"down\" className=\"w-full h-full\" />;\n      case \"mint\":\n        return <SeedlingIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"burn\":\n        return <FireIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"list\":\n        return <TagIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"sell\":\n        return <MoneyIcon variant=\"solid\" className=\"w-full h-full\" />;\n      default:\n        return undefined;\n    }\n  }, [action]);\n\n  const TokenImage = useMemo(\n    () => (\n      <ThumbnailCollectible\n        image={image ?? \"\"}\n        variant=\"ghost\"\n        size=\"sm\"\n        className=\"flex-none\"\n      />\n    ),\n    [image],\n  );\n\n  const Token = useMemo(() => {\n    return (\n      <CollectibleTag\n        variant=\"dark\"\n        className=\"gap-1 shrink min-w-0 text-inherit\"\n      >\n        {TokenImage}\n        <p className=\"truncate shrink\">{name}</p>\n      </CollectibleTag>\n    );\n  }, [TokenImage, name]);\n\n  const Preposition = useMemo(() => {\n    switch (action) {\n      case \"send\":\n        return <ActivityPreposition label=\"to\" />;\n      case \"receive\":\n        return <ActivityPreposition label=\"from\" />;\n      case \"mint\":\n        return <ActivityPreposition label=\"minted\" />;\n      case \"burn\":\n        return <ActivityPreposition label=\"burned\" />;\n      case \"list\":\n      case \"sell\":\n        return <ActivityPreposition label=\"for\" />;\n      default:\n        return undefined;\n    }\n  }, [action]);\n\n  const OrderTokenImage = useMemo(\n    () =>\n      orderImage ? (\n        <Thumbnail\n          icon={orderImage}\n          variant=\"ghost\"\n          size=\"xs\"\n          className=\"flex-none\"\n          rounded\n        />\n      ) : undefined,\n    [orderImage],\n  );\n\n  const Subject = useMemo(() => {\n    switch (action) {\n      case \"send\":\n      case \"receive\":\n        return username ? (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink min-w-0\">\n            <AchievementPlayerAvatar\n              size=\"xs\"\n              className=\"flex-none\"\n              username={username}\n            />\n            <p className=\"truncate\">{username}</p>\n          </CollectibleTag>\n        ) : (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink min-w-0\">\n            <WalletIcon variant=\"solid\" size=\"xs\" />\n            <p className=\"truncate\">{formatAddress(address, { size: \"xs\" })}</p>\n          </CollectibleTag>\n        );\n      case \"list\":\n      case \"sell\":\n        return (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink\">\n            {OrderTokenImage}\n            <p>{orderAmount!}</p>\n            {OrderTokenImage ? undefined : (\n              <p>{orderSymbol?.toUpperCase() || \"TOKEN\"}</p>\n            )}\n          </CollectibleTag>\n        );\n      default:\n        return undefined;\n    }\n  }, [address, action]);\n\n  return (\n    <ActivityCardRow\n      icon={Icon}\n      logo={logo}\n      items={[Token, Preposition, Subject]}\n      timestamp={timestamp}\n      error={error}\n      loading={loading}\n      variant={variant}\n      className={className}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      {...props}\n    />\n  );\n};\n\nexport default ActivityCollectibleCard;\n"]}