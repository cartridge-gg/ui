{"version":3,"file":"token-card.js","sourceRoot":"","sources":["../../../../../src/components/modules/activities/card/token-card.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useMemo, useState } from \"react\";\nimport {\n  AchievementPlayerAvatar,\n  ActivityPreposition,\n  ArrowIcon,\n  CoinsIcon,\n  CollectibleTag,\n  FireIcon,\n  PaperPlaneIcon,\n  SeedlingIcon,\n  Thumbnail,\n  TransferIcon,\n  WalletIcon,\n} from \"@/index\";\nimport { VariantProps } from \"class-variance-authority\";\nimport ActivityCardRow, { activityCardRowVariants } from \"./card-row\";\nimport { formatAddress } from \"@/utils\";\n\nexport interface ActivityTokenCardProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof activityCardRowVariants> {\n  address: string; // token address\n  username?: string; // token owner username\n  amount: string; // token amount\n  value?: string; // usd value\n  image?: string; // token image\n  symbol?: string; // token symbol (used if no image)\n  swappedAmount?: string;\n  swappedImage?: string;\n  swappedSymbol?: string;\n  logo?: string; // game logo\n  action: \"send\" | \"receive\" | \"mint\" | \"burn\" | \"swap\";\n  timestamp: number;\n  error?: boolean;\n  loading?: boolean;\n  className?: string;\n}\n\nexport const ActivityTokenCard = ({\n  address,\n  username,\n  amount,\n  value,\n  image,\n  symbol,\n  swappedAmount,\n  swappedImage,\n  swappedSymbol,\n  logo,\n  action: actionProp,\n  timestamp,\n  error,\n  loading,\n  variant,\n  className,\n  ...props\n}: ActivityTokenCardProps) => {\n  const [_hover, setHover] = useState(false);\n\n  const action = useMemo(\n    () =>\n      actionProp === \"receive\" && BigInt(address) == 0n\n        ? \"mint\"\n        : actionProp === \"send\" && BigInt(address) == 0n\n          ? \"burn\"\n          : actionProp,\n    [actionProp, address],\n  );\n\n  const Icon = useMemo(() => {\n    switch (action) {\n      case \"send\":\n        return <PaperPlaneIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"receive\":\n        return <ArrowIcon variant=\"down\" className=\"w-full h-full\" />;\n      case \"mint\":\n        return <SeedlingIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"burn\":\n        return <FireIcon variant=\"solid\" className=\"w-full h-full\" />;\n      case \"swap\":\n        return <TransferIcon className=\"w-full h-full\" />;\n      default:\n        return undefined;\n    }\n  }, [action]);\n\n  const TokenImage = useMemo(\n    () =>\n      image ? (\n        <Thumbnail\n          icon={image}\n          variant=\"ghost\"\n          size=\"xs\"\n          className=\"flex-none\"\n          rounded\n        />\n      ) : (\n        <CoinsIcon variant=\"solid\" size=\"xs\" className=\"flex-none\" />\n      ),\n    [image],\n  );\n\n  const Token = useMemo(() => {\n    return (\n      <CollectibleTag variant=\"dark\" className=\"gap-1 shrink min-w-0\">\n        {TokenImage}\n        <p className=\"truncate\">\n          {amount} {symbol?.toUpperCase() || \"\"}\n        </p>\n      </CollectibleTag>\n    );\n  }, [TokenImage, amount, symbol]);\n\n  const SwappedTokenImage = useMemo(\n    () =>\n      swappedImage ? (\n        <Thumbnail icon={swappedImage} variant=\"ghost\" size=\"xs\" rounded />\n      ) : (\n        <CoinsIcon variant=\"solid\" size=\"xs\" className=\"flex-none\" />\n      ),\n    [swappedImage],\n  );\n\n  const Preposition = useMemo(() => {\n    switch (action) {\n      case \"send\":\n        return <ActivityPreposition label=\"to\" />;\n      case \"receive\":\n        return <ActivityPreposition label=\"from\" />;\n      case \"mint\":\n        return <ActivityPreposition label=\"minted\" />;\n      case \"burn\":\n        return <ActivityPreposition label=\"burned\" />;\n      case \"swap\":\n        return <ActivityPreposition label=\"for\" />;\n      default:\n        return undefined;\n    }\n  }, [action]);\n\n  const Subject = useMemo(() => {\n    switch (action) {\n      case \"send\":\n      case \"receive\":\n        return username ? (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink min-w-[60px]\">\n            <AchievementPlayerAvatar\n              size=\"xs\"\n              className=\"flex-none\"\n              username={username}\n            />\n            <p className=\"truncate\">{username}</p>\n          </CollectibleTag>\n        ) : (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink min-w-[60px]\">\n            <WalletIcon variant=\"solid\" size=\"xs\" className=\"flex-none\" />\n            <p className=\"truncate\">{formatAddress(address, { size: \"xs\" })}</p>\n          </CollectibleTag>\n        );\n      case \"swap\":\n        return (\n          <CollectibleTag variant=\"dark\" className=\"gap-1 shrink\">\n            {SwappedTokenImage}\n            <p className=\"truncate\">\n              {swappedAmount!} {swappedSymbol?.toUpperCase() || \"\"}\n            </p>\n          </CollectibleTag>\n        );\n      default:\n        return undefined;\n    }\n  }, [address, action]);\n\n  return (\n    <ActivityCardRow\n      icon={Icon}\n      logo={logo}\n      items={[Token, Preposition, Subject]}\n      timestamp={timestamp}\n      error={error}\n      loading={loading}\n      variant={variant}\n      className={className}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      {...props}\n    />\n  );\n};\n\nexport default ActivityTokenCard;\n"]}