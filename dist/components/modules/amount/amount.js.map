{"version":3,"file":"amount.js","sourceRoot":"","sources":["../../../../src/components/modules/amount/amount.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\n  Header,\n  Error,\n  Input,\n  Button,\n  PlusIcon,\n  MinusIcon,\n} from \"@/components\";\nimport { Max } from \"./max\";\nimport { Conversion } from \"./conversion\";\nimport { Balance } from \"./balance\";\nimport { useEffect, useMemo } from \"react\";\n\ntype AmountProps = {\n  amount: number | undefined;\n  conversion: string | undefined;\n  balance: number;\n  symbol: string;\n  decimals: number;\n  submitted: boolean;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onMax: (e: React.MouseEvent<HTMLDivElement | HTMLButtonElement>) => void;\n  setError: (error: Error | undefined) => void;\n  title?: string;\n  label?: string;\n  min?: number;\n  max?: number;\n  onPlus?: (e: React.MouseEvent<HTMLDivElement | HTMLButtonElement>) => void;\n  onMinus?: (e: React.MouseEvent<HTMLDivElement | HTMLButtonElement>) => void;\n};\n\nexport function Amount({\n  amount,\n  conversion,\n  balance,\n  symbol,\n  decimals,\n  submitted,\n  onChange,\n  onMax,\n  setError,\n  title = \"Amount\",\n  label = \"Balance\",\n  min,\n  max,\n  onPlus,\n  onMinus,\n}: AmountProps) {\n  const error = useMemo(() => {\n    if (amount && amount > balance) return \"Insufficient balance\";\n    const minAmountStr = decimals > 1 ? `0.${\"0\".repeat(decimals - 1)}1` : \"0\";\n    if (amount && amount < parseFloat(minAmountStr))\n      return `Min value is ${minAmountStr}`;\n    if (submitted && !amount) return \"Invalid amount\";\n    return \"\";\n  }, [amount, balance, decimals, submitted]);\n\n  useEffect(() => {\n    setError(error ? { name: \"Error\", message: error } : undefined);\n  }, [error, setError]);\n\n  return (\n    <div className=\"flex flex-col gap-y-px\">\n      <div className=\"flex items-center justify-between\">\n        <Header label={title} />\n        <div className=\"flex items-center gap-2\">\n          <Header label={`${label}:`} />\n          <Balance value={balance} symbol={symbol} onClick={onMax} />\n        </div>\n      </div>\n\n      <div className=\"flex flex-col gap-y-3\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative grow\">\n            <Input\n              size=\"lg\"\n              type=\"number\"\n              className=\"h-10 pr-28\"\n              placeholder={(0).toLocaleString()}\n              value={amount ?? \"\"}\n              error={error ? { name: \"Error\", message: \"\" } : undefined}\n              onChange={onChange}\n            />\n            <div className=\"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-x-3 justify-end\">\n              <Conversion value={amount && !error ? conversion : undefined} />\n              <Max onClick={onMax} />\n            </div>\n          </div>\n          {!!onMinus && min !== undefined && (\n            <Button\n              variant=\"secondary\"\n              className=\"h-10 w-10 p-2.5\"\n              onClick={onMinus}\n              disabled={(amount || 0) <= min}\n            >\n              <MinusIcon size=\"xs\" />\n            </Button>\n          )}\n          {!!onPlus && max !== undefined && (\n            <Button\n              variant=\"secondary\"\n              className=\"h-10 w-10 p-2.5\"\n              onClick={onPlus}\n              disabled={(amount || 0) >= max}\n            >\n              <PlusIcon variant=\"solid\" size=\"xs\" />\n            </Button>\n          )}\n        </div>\n        <Error label={error} />\n      </div>\n    </div>\n  );\n}\n"]}