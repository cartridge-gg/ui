{"version":3,"file":"search-engine.js","sourceRoot":"","sources":["../../../../../src/components/modules/marketplace/search-engine/search-engine.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Input, SearchIcon } from \"@/index\";\nimport { cn } from \"@/utils\";\nimport { cva, VariantProps } from \"class-variance-authority\";\nimport React, { HTMLAttributes, useEffect, useState } from \"react\";\n\nconst marketplaceSearchEngineVariants = cva(\"pr-9 caret-foreground-100\", {\n  variants: {\n    variant: {\n      darkest:\n        \"bg-spacer-100 hover:bg-spacer-100 focus-visible:bg-spacer-100 border border-background-200 hover:border-background-300 focus-visible:border-background-300 focus-visible:border-bg-background-300\",\n      darker:\n        \"bg-background-100 hover:bg-background-100 focus-visible:bg-background-100 border border-background-200 hover:border-background-300 focus-visible:border-background-300 focus-visible:border-bg-background-300\",\n      dark: \"bg-background-125 hover:bg-background-125 focus-visible:bg-background-125 border border-background-200 hover:border-background-300 focus-visible:border-background-300 focus-visible:border-bg-background-300\",\n      default:\n        \"bg-background-150 hover:bg-background-150 focus-visible:bg-background-150 border border-background-200 hover:border-background-300 focus-visible:border-background-300 focus-visible:border-bg-background-300\",\n    },\n  },\n  defaultVariants: {\n    variant: \"default\",\n  },\n});\n\nexport interface MarketplaceSearchEngineProps\n  extends HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof marketplaceSearchEngineVariants> {\n  search: string;\n  setSearch: (search: string) => void;\n  cards?: React.ReactNode[];\n}\n\nexport const MarketplaceSearchEngine = React.forwardRef<\n  HTMLDivElement,\n  MarketplaceSearchEngineProps\n>(({ search, setSearch, cards, className, variant, ...props }, ref) => {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const [focus, setFocus] = useState(false);\n  const [paddingLeft, setPaddingLeft] = useState(0);\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n    const observer = new ResizeObserver((entries) => {\n      for (let entry of entries) {\n        if (entry.target === containerRef.current) {\n          const size = entry.contentRect.width;\n          setPaddingLeft(size);\n        }\n      }\n    });\n    observer.observe(containerRef.current);\n    return () => {\n      observer.disconnect();\n    };\n  }, [containerRef, setPaddingLeft]);\n\n  return (\n    <div ref={ref} className=\"relative\" {...props}>\n      <Input\n        className={cn(marketplaceSearchEngineVariants({ variant }), className)}\n        style={{\n          paddingLeft: `${paddingLeft + 16}px`,\n        }}\n        type=\"text\"\n        placeholder=\"Search\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n      />\n      <div\n        ref={containerRef}\n        className={cn(\n          \"absolute left-2 top-1/2 -translate-y-1/2 flex items-center gap-2\",\n          (!cards || cards.length === 0) && \"hidden\",\n        )}\n      >\n        {(cards || []).map((card) => (\n          <div key={`${card}`} className=\"max-w-24 md:max-w-32\">\n            {card}\n          </div>\n        ))}\n      </div>\n      <SearchIcon\n        data-focused={focus}\n        data-content={search.length > 0 && !focus}\n        className={cn(\n          \"absolute right-2 top-1/2 -translate-y-1/2 transition-colors duration-100\",\n          \"text-foreground-400 data-[content=true]:text-foreground-300 data-[focused=true]:text-foreground-100 \",\n        )}\n      />\n    </div>\n  );\n});\n\nexport default MarketplaceSearchEngine;\n"]}