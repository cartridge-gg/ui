import{r as i}from"./index-BlmOqGMO.js";function a({theme:t,assetUrl:o}){i.useEffect(()=>{if(!t)return;const c=e=>{if(document.documentElement.style.setProperty("--theme-icon-url",t.icon.startsWith("http")?`url("${t.icon}")`:`url("${o}${t.icon}")`),t.cover){const r=typeof t.cover=="string"?t.cover:t.cover.dark,u=r.startsWith("http")?`url("${r}")`:`url("${o}${r}")`;document.documentElement.style.setProperty("--theme-cover-url",u)}if(t.colors){if(t.colors.primary){const r=typeof t.colors.primary=="string"?t.colors.primary:t.colors.primary[e];document.documentElement.style.setProperty("--primary-100",r)}if(t.colors.primaryForeground){const r=typeof t.colors.primaryForeground=="string"?t.colors.primaryForeground:t.colors.primaryForeground[e];document.documentElement.style.setProperty("--primary-foreground-100",r)}}},s=document.documentElement.classList.contains("dark")?"dark":"light";c(s);const n=new MutationObserver(e=>{e.forEach(r=>{const u=r.target.classList.contains("dark")?"dark":"light";c(u)})});return n.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{n.disconnect()}},[t,o])}function d(t){const[o,c]=i.useState(()=>typeof document>"u"?"":getComputedStyle(document.documentElement).getPropertyValue(t));return i.useEffect(()=>{if(typeof document>"u")return;const s=()=>{try{const e=getComputedStyle(document.documentElement).getPropertyValue(t);c(e)}catch(e){console.warn(`Failed to get CSS custom property ${t}:`,e)}},n=new MutationObserver(e=>{e.forEach(r=>{r.type==="attributes"&&(r.attributeName==="style"||r.attributeName==="class")&&s()})});return n.observe(document.documentElement,{attributes:!0,attributeFilter:["style","class"]}),()=>{n.disconnect()}},[t]),o}export{a,d as u};
