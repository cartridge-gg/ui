import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as p}from"./index-BlmOqGMO.js";import{B as r}from"./index-CYmZMVXJ.js";import{c as G,f as Q,b as F,d as H,a as W,s as J}from"./specialized-toasts-Ce1YqdlM.js";import{u as K}from"./use-toast-hSLFOJAA.js";import{S as Z}from"./sonner-DAAZ7az7.js";import{t as ee}from"./index-ZHEgE2XS.js";import"./context-CDbX8kD3.js";import"./alert-HkMSTgu9.js";import"./badge-CF9VCaa2.js";import"./breadcrumb-V3TW3CaT.js";import"./card-CHJmWtwN.js";import"./checkbox-BJGOHg_b.js";import"./drawer-CB1qWX_Q.js";import"./dropdown-menu-Bf3pfD8n.js";import"./radio-group-WlSpQHWm.js";import"./menubar-eE93DyoQ.js";import"./popover-DNr9wWs8.js";import"./progress-Dkom_LNH.js";import{S as te,b as se,c as oe,a as ae,d as g}from"./select-COP56eT4.js";import"./separator-DLNkf967.js";import"./sheet-BHnC42pu.js";import"./skeleton-CV1PtUMd.js";import{S as u}from"./switch-CWQaiJ0M.js";import"./table-2Lq_Rdjg.js";import"./tabs-pHV4z6kt.js";import"./toggle-group-Bz_GEFe3.js";import"./index-Cd0zht5T.js";import"./tooltip-CEc4qSmp.js";import"./index-yBjzXJbu.js";import"./index-C_Dn7qTj.js";import"./index-KnJS0CU8.js";import"./spinner-BCFkRInS.js";import"./utils-GTnaulzv.js";import"./index-CRGxjvZy.js";import"./toast-mJ0Bx_GT.js";import"./times-zfpenlOA.js";import"./presets-BSCTsi68.js";import"./sparkles-CY9lzZpH.js";import"./sparkles-draft-sDjrI9Uu.js";import"./transaction-t4mJhGCb.js";import"./starknet-CX4nG1WJ.js";import"./check-BknbCD27.js";import"./image-DVJtesZi.js";import"./index-DTUS6EFt.js";import"./alert-DG-IKYwr.js";import"./index-DuqhnXMO.js";import"./index-fNjTmf9T.js";import"./index-Dkb_ZYRU.js";import"./index-BYUKtP1h.js";import"./index-BQxh6BgF.js";import"./index-CVWIyhAF.js";import"./index-BbW-7v3v.js";import"./index-DdDw_O67.js";import"./wedge-Ek6y42Ws.js";import"./index-B7ENhYdy.js";import"./index-BylD-epk.js";import"./index-DZCApzUK.js";import"./index-CJGASTBR.js";import"./times-circle-BPxv1pFA.js";import"./dots-CqQy5XBj.js";import"./index-DZ2oWOeb.js";import"./index-DaMGPy2X.js";import"./checkbox-BNhnVxLV.js";import"./index-BV9D_7a1.js";import"./index-z8P03atw.js";import"./index-DoUPdNCX.js";import"./circle-Ddb5-e2i.js";import"./index-COzOtNfS.js";import"./circle-check-B84UAr7O.js";import"./utils-CzDHQuSw.js";const E="controller-toast";function I({position:t="bottom-right",disabledTypes:l=[],collapseTransactions:h,toasterId:m}){const{toast:a}=K();return p.useEffect(()=>{const v=i=>{const d=i.data.type===E?i.data.options.variant:void 0;if(d){if(d=="error"&&!l.includes("error")){const o=i.data.options;a(G({...o,toasterId:m}))}else if(d=="success"&&!l.includes("success")){const o=i.data.options;a(Q({...o,toasterId:m}))}else if(d=="network-switch"&&!l.includes("network-switch")){const o=i.data.options;a(F({...o,toasterId:m}))}else if(d=="transaction"&&!l.includes("transaction")){const o=i.data.options;a(H({...o,isExpanded:h!==void 0?!h:!0,duration:o.status=="confirming"?0:o.duration,toasterId:m}))}else if(d=="marketplace"&&!l.includes("marketplace")){const o=i.data.options;a(W({title:`${o.action[0].toUpperCase()}${o.action.slice(1)}`,...o,toasterId:m}))}else if(d=="achievement"&&!l.includes("achievement")){const o=i.data.options;a(J({...o,toasterId:m}))}}};return window.addEventListener("message",v),()=>{window.removeEventListener("message",v)}},[l.join(","),h,m]),e.jsx(Z,{position:t,toasterId:m})}I.__docgenInfo={description:"",methods:[],displayName:"ControllerToaster",props:{position:{required:!1,tsType:{name:"union",raw:`| "top-left"
| "top-right"
| "top-center"
| "bottom-left"
| "bottom-right"
| "bottom-center"`,elements:[{name:"literal",value:'"top-left"'},{name:"literal",value:'"top-right"'},{name:"literal",value:'"top-center"'},{name:"literal",value:'"bottom-left"'},{name:"literal",value:'"bottom-right"'},{name:"literal",value:'"bottom-center"'}]},description:"",defaultValue:{value:'"bottom-right"',computed:!1}},disabledTypes:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:`| "error"
| "success"
| "network-switch"
| "transaction"
| "marketplace"
| "achievement"`,elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"success"'},{name:"literal",value:'"network-switch"'},{name:"literal",value:'"transaction"'},{name:"literal",value:'"marketplace"'},{name:"literal",value:'"achievement"'}]}],raw:"ControllerNotificationTypes[]"},description:"",defaultValue:{value:"[]",computed:!1}},collapseTransactions:{required:!1,tsType:{name:"boolean"},description:""},toasterId:{required:!1,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""}}};const bt={title:"Primitives/Toast/Controller Integration",parameters:{layout:"centered",backgrounds:{default:"dark",values:[{name:"dark",value:"#353535"},{name:"light",value:"#ffffff"}]}}};function re(){const[t,l]=p.useState({}),[h,m]=p.useState(!1),[a,v]=p.useState([]),[i,d]=p.useState("bottom-right"),[o,b]=p.useState(1),[T,k]=p.useState(!1),A=p.useCallback((s,c)=>{t[s]||(l(x=>({...x,[s]:!0})),c(),setTimeout(()=>{l(x=>({...x,[s]:!1}))},100))},[t]),n=(s,c)=>{A(s,()=>{window.postMessage({type:E,options:c},"*")})},P=()=>{n("error",{variant:"error",message:"Failed to purchase asset!",duration:5e3})},B=()=>{n("success",{variant:"success",message:"Address copied",duration:5e3})},M=()=>{n("successLonger",{variant:"success",message:"You did something that really remarkable and profound!",duration:5e3})},O=()=>{const s={variant:"transaction",status:"confirming",toastId:`tx-${o}`,label:"Purchase",progress:50,duration:5e3,safeToClose:!1};n("transactionConfirming",s),k(!0)},$=()=>{const s={variant:"transaction",status:"confirmed",toastId:`tx-${o}`,progress:50,duration:5e3};n("transactionConfirmed",s),k(!1),b(c=>c+1)},R=()=>{const s={variant:"error",message:"Transaction execution failed",toastId:`tx-${o}`,duration:5e3};n("transactionError",s),k(!1),b(c=>c+1)},_=()=>{n("switchToStarknet",{variant:"network-switch",networkName:"Starknet Mainnet",duration:5e3})},U=()=>{n("switchToNums",{variant:"network-switch",networkName:"Nums Chain",networkIcon:"https://static.cartridge.gg/presets/nums/icon.png",duration:5e3})},Y=()=>{const s={variant:"marketplace",action:"purchased",collectionName:"Beasts",itemNames:[`Beast #${Math.floor(Math.random()*93225)+1}`],itemImages:["https://api.cartridge.gg/x/arcade-main/torii/static/0x046da8955829adf2bda310099a0063451923f02e648cf25a1203aac6335cf0e4/0x00000000000000000000000000000000000000000000000000000000000105de/image"],preset:"loot-survivor",duration:1e4};n("purchaseBeast",s)},q=()=>{n("PurchaseDuelists",{variant:"marketplace",action:"purchased",collectionName:"Pistols at Dawn Duelists",itemNames:["Duelist #111","Duelist #222","Duelist #333"],itemImages:["https://api.cartridge.gg/x/arcade-pistols/torii/static/0x07aaa9866750a0db82a54ba8674c38620fa2f967d2fbb31133def48e0527c87f/0x0000000000000000000000000000000000000000000000000000000000000577/image","https://api.cartridge.gg/x/arcade-pistols/torii/static/0x7aaa9866750a0db82a54ba8674c38620fa2f967d2fbb31133def48e0527c87f/0x0000000000000000000000000000000000000000000000000000000000000577/image","https://api.cartridge.gg/x/arcade-pistols/torii/static/0x7aaa9866750a0db82a54ba8674c38620fa2f967d2fbb31133def48e0527c87f/0x0000000000000000000000000000000000000000000000000000000000000577/image"],preset:"pistols",duration:1e4})},V=()=>{n("sentToken",{variant:"marketplace",action:"sent",collectionName:"LORDS",itemNames:["500 LORDS"],itemImages:["https://imagedelivery.net/0xPAQaDtnQhBs8IzYRIlNg/a3bfe959-50c4-4f89-0aef-b19207d82a00/logo"]})},X=()=>{n("achievementDraft",{variant:"achievement",title:"Pacifist Path",subtitle:"Earned!",xpAmount:50,isDraft:!0,progress:50,duration:5e3,iconUrl:""})},z=()=>{n("achievement",{variant:"achievement",title:"Pacifist Path",subtitle:"Earned!",xpAmount:100,progress:100,duration:5e3,iconUrl:""})},f=s=>{v(c=>c.includes(s)?c.filter(x=>x!==s):[...c,s])};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-white text-lg font-semibold mb-4",children:"Controller Toast Integration"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-white text-sm font-medium",children:"Generic Controller events"}),e.jsx(r,{onClick:P,className:"w-full",disabled:t.error,children:t.error?"Loading...":"Error"}),e.jsx(r,{onClick:B,className:"w-full",disabled:t.success,children:t.success?"Loading...":"Success"}),e.jsx(r,{onClick:M,className:"w-full",disabled:t.successLonger,children:t.successLonger?"Loading...":"Success (long message)"}),e.jsx(r,{onClick:O,className:"w-full",disabled:t.transactionConfirming||T,children:t.transactionConfirming?"Loading...":`Confirm TX${o}...`}),e.jsx(r,{onClick:$,className:"w-full",disabled:t.transactionConfirmed||!T,children:t.transactionConfirmed?"Loading...":`...TX${o} confirmed`}),e.jsx(r,{onClick:R,className:"w-full",disabled:t.transactionError||!T,children:t.transactionError?"Loading...":`...TX${o} error`}),e.jsx(r,{onClick:_,className:"w-full",disabled:t.switchToStarknet,children:t.switchToStarknet?"Loading...":"Switch to Starknet"}),e.jsx(r,{onClick:U,className:"w-full",disabled:t.switchToNums,children:t.switchToNums?"Loading...":"Switch to Nums"}),e.jsx(r,{onClick:()=>ee.success("sonner.success()",{duration:5e3}),className:"w-full",children:"sonner.success()"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-white text-sm font-medium",children:"Specialized events"}),e.jsx(r,{onClick:Y,className:"w-full",disabled:t.purchaseBeast,children:t.purchaseBeast?"Loading...":"Marketplace Purchase Beast"}),e.jsx(r,{onClick:q,className:"w-full",disabled:t.PurchaseDuelists,children:t.PurchaseDuelists?"Loading...":"Marketplace Purchase Duelists"}),e.jsx(r,{onClick:V,className:"w-full",disabled:t.sentToken,children:t.sentToken?"Loading...":"Marketplace Sent Token"}),e.jsx(r,{onClick:X,className:"w-full",disabled:t.achievementDraft,children:t.achievementDraft?"Loading...":"Achievement Draft"}),e.jsx(r,{onClick:z,className:"w-full",disabled:t.achievement,children:t.achievement?"Loading...":"Achievement Complete"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-sm font-medium",children:"Client Options"}),e.jsx("div",{className:"py-2",children:e.jsxs(te,{value:i,onValueChange:s=>d(s),children:[e.jsx(se,{children:e.jsx(oe,{placeholder:"Select position"})}),e.jsxs(ae,{children:[e.jsx(g,{value:"top-left",children:"Top Left"}),e.jsx(g,{value:"top-center",children:"Top Center"}),e.jsx(g,{value:"top-right",children:"Top Right"}),e.jsx(g,{value:"bottom-left",children:"Bottom Left"}),e.jsx(g,{value:"bottom-center",children:"Bottom Center"}),e.jsx(g,{value:"bottom-right",children:"Bottom Right"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("error")?1:0,onCheckedChange:()=>f("error")}),"Disable Error"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("success")?1:0,onCheckedChange:()=>f("success")}),"Disable Success"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("network-switch")?1:0,onCheckedChange:()=>f("network-switch")}),"Disable Network Switch"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("transaction")?1:0,onCheckedChange:()=>f("transaction")}),"Disable Transaction"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("marketplace")?1:0,onCheckedChange:()=>f("marketplace")}),"Disable Marketplace"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{value:a.includes("achievement")?1:0,onCheckedChange:()=>f("achievement")}),"Disable Achievement"]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(u,{value:h?1:0,onCheckedChange:s=>m(s)}),"Collapse Transactions"]})]})]}),e.jsx(I,{collapseTransactions:h,disabledTypes:a,position:i})]})}const w={render:()=>e.jsx(re,{})},C={render:()=>e.jsxs("div",{className:"space-y-4 text-white",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Integrate Controller Toasts in your app:"}),e.jsx("div",{className:"space-y-3 text-sm",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-green-400",children:["1. Add the ","<ControllerToaster />"," component to your game: 2. If you already have a sonner toaster, remove its ","<Toaster />"," ","component: 3. Or, if you want the controller toasters to be independent from your existing sonner toaster, give it a toasterId:"," ",'<ControllerToaster toasterId="controller" />']}),e.jsx("pre",{className:"bg-gray-800 p-2 rounded mt-1 text-xs",children:`import { ControllerToaster } from "@cartridge/ui";

function App() {
  return (
    <div>
      {/* Your app content */}
      <ControllerToaster />
    </div>
  );
}`})]})})]})};var j,N,S;w.parameters={...w.parameters,docs:{...(j=w.parameters)==null?void 0:j.docs,source:{originalSource:`{
  render: () => <ControllerToasterDemo />
}`,...(S=(N=w.parameters)==null?void 0:N.docs)==null?void 0:S.source}}};var D,y,L;C.parameters={...C.parameters,docs:{...(D=C.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: () => <div className="space-y-4 text-white">
      <h2 className="text-lg font-semibold">
        Integrate Controller Toasts in your app:
      </h2>

      <div className="space-y-3 text-sm">
        <div>
          <h3 className="font-medium text-green-400">
            1. Add the {"<ControllerToaster />"} component to your game: 2. If
            you already have a sonner toaster, remove its {"<Toaster />"}{" "}
            component: 3. Or, if you want the controller toasters to be
            independent from your existing sonner toaster, give it a toasterId:{" "}
            {'<ControllerToaster toasterId="controller" />'}
          </h3>
          <pre className="bg-gray-800 p-2 rounded mt-1 text-xs">
            {\`import { ControllerToaster } from "@cartridge/ui";

function App() {
  return (
    <div>
      {/* Your app content */}
      <ControllerToaster />
    </div>
  );
}\`}
          </pre>
        </div>
      </div>
    </div>
}`,...(L=(y=C.parameters)==null?void 0:y.docs)==null?void 0:L.source}}};const jt=["IntegrationDemo","UsageExample"];export{w as IntegrationDemo,C as UsageExample,jt as __namedExportsOrder,bt as default};
