import{r as i}from"./index-BlmOqGMO.js";function m({theme:e,assetUrl:n}){i.useEffect(()=>{if(!e)return;const s=t=>{var r,u;if(document.documentElement.style.setProperty("--theme-icon-url",e.icon.startsWith("http")?`url("${e.icon}")`:`url("${n}${e.icon}")`),e.cover){const o=typeof e.cover=="string"?e.cover:e.cover.dark,a=o.startsWith("http")?`url("${o}")`:`url("${n}${o}")`;document.documentElement.style.setProperty("--theme-cover-url",a)}else document.documentElement.style.removeProperty("--theme-cover-url");if((r=e.colors)!=null&&r.primary){const o=typeof e.colors.primary=="string"?e.colors.primary:e.colors.primary[t];document.documentElement.style.setProperty("--primary-100",o)}else document.documentElement.style.removeProperty("--primary-100");if((u=e.colors)!=null&&u.primaryForeground){const o=typeof e.colors.primaryForeground=="string"?e.colors.primaryForeground:e.colors.primaryForeground[t];document.documentElement.style.setProperty("--primary-foreground-100",o)}else document.documentElement.style.removeProperty("--primary-foreground-100")},l=document.documentElement.classList.contains("dark")?"dark":"light";s(l);const c=new MutationObserver(t=>{t.forEach(r=>{const u=r.target.classList.contains("dark")?"dark":"light";s(u)})});return c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{c.disconnect()}},[e,n])}function y(e){const[n,s]=i.useState(()=>typeof document>"u"?"":getComputedStyle(document.documentElement).getPropertyValue(e));return i.useEffect(()=>{if(typeof document>"u")return;const l=()=>{try{const t=getComputedStyle(document.documentElement).getPropertyValue(e);s(t)}catch(t){console.warn(`Failed to get CSS custom property ${e}:`,t)}},c=new MutationObserver(t=>{t.forEach(r=>{r.type==="attributes"&&(r.attributeName==="style"||r.attributeName==="class")&&l()})});return c.observe(document.documentElement,{attributes:!0,attributeFilter:["style","class"]}),()=>{c.disconnect()}},[e]),n}export{m as a,y as u};
