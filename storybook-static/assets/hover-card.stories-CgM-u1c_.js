import{j as i}from"./jsx-runtime-Cf8x2fCZ.js";import{r}from"./index-BlmOqGMO.js";import{a as I,c as l}from"./index-DKk_hhWv.js";import{c as U}from"./index-Dkb_ZYRU.js";import{u as $}from"./index-C_Dn7qTj.js";import{c as D,R as W,A as z,C as B,a as V}from"./index-wyL_HbYX.js";import{P as q}from"./index-BigR8kad.js";import{P as G}from"./index-CVWIyhAF.js";import{D as K}from"./index-Ms1lWa6I.js";import{c as J}from"./index-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./index-DuqhnXMO.js";import"./index-fNjTmf9T.js";import"./index-DZCApzUK.js";import"./index-BWkk9jnE.js";var E,b="HoverCard",[N,be]=U(b,[D]),w=D(),[Q,H]=N(b),j=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:a,onOpenChange:d,openDelay:f=700,closeDelay:m=300}=e,c=w(t),v=r.useRef(0),u=r.useRef(0),C=r.useRef(!1),p=r.useRef(!1),[h,o]=I({prop:s,defaultProp:a??!1,onChange:d,caller:b}),x=r.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>o(!0),f)},[f,o]),g=r.useCallback(()=>{clearTimeout(v.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>o(!1),m))},[m,o]),M=r.useCallback(()=>o(!1),[o]);return r.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),i.jsx(Q,{scope:t,open:h,onOpenChange:o,onOpen:x,onClose:g,onDismiss:M,hasSelectionRef:C,isPointerDownOnContentRef:p,children:i.jsx(W,{...c,children:n})})};j.displayName=b;var A="HoverCardTrigger",L=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=H(A,n),d=w(n);return i.jsx(z,{asChild:!0,...d,children:i.jsx(G.a,{"data-state":a.open?"open":"closed",...s,ref:t,onPointerEnter:l(e.onPointerEnter,S(a.onOpen)),onPointerLeave:l(e.onPointerLeave,S(a.onClose)),onFocus:l(e.onFocus,a.onOpen),onBlur:l(e.onBlur,a.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});L.displayName=A;var X="HoverCardPortal",[we,Y]=N(X,{forceMount:void 0}),R="HoverCardContent",k=r.forwardRef((e,t)=>{const n=Y(R,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,d=H(R,e.__scopeHoverCard);return i.jsx(q,{present:s||d.open,children:i.jsx(Z,{"data-state":d.open?"open":"closed",...a,onPointerEnter:l(e.onPointerEnter,S(d.onOpen)),onPointerLeave:l(e.onPointerLeave,S(d.onClose)),ref:t})})});k.displayName=R;var Z=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d,onInteractOutside:f,...m}=e,c=H(R,n),v=w(n),u=r.useRef(null),C=$(t,u),[p,h]=r.useState(!1);return r.useEffect(()=>{if(p){const o=document.body;return E=o.style.userSelect||o.style.webkitUserSelect,o.style.userSelect="none",o.style.webkitUserSelect="none",()=>{o.style.userSelect=E,o.style.webkitUserSelect=E}}},[p]),r.useEffect(()=>{if(u.current){const o=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",o),()=>{document.removeEventListener("pointerup",o),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),r.useEffect(()=>{u.current&&re(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),i.jsx(K,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l(d,o=>{o.preventDefault()}),onDismiss:c.onDismiss,children:i.jsx(B,{...v,...m,onPointerDown:l(m.onPointerDown,o=>{o.currentTarget.contains(o.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:C,style:{...m.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ee="HoverCardArrow",oe=r.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=w(n);return i.jsx(V,{...a,...s,ref:t})});oe.displayName=ee;function S(e){return t=>t.pointerType==="touch"?void 0:e()}function re(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var te=j,ne=L,F=k;const ae=te,se=ne,T=r.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>i.jsx(F,{ref:a,align:t,sideOffset:n,className:J("z-50 w-64 rounded-md border bg-background-200 p-4 text-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));T.displayName=F.displayName;T.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const Ee={title:"Primitives/Hover Card",component:ie,tags:["autodocs"]},P={};function ie(){return i.jsxs(ae,{children:[i.jsx(se,{children:"Hover"}),i.jsx(T,{children:"Some insightful information about the hover trigger"})]})}var O,_,y;P.parameters={...P.parameters,docs:{...(O=P.parameters)==null?void 0:O.docs,source:{originalSource:"{}",...(y=(_=P.parameters)==null?void 0:_.docs)==null?void 0:y.source}}};const He=["Default"];export{P as Default,He as __namedExportsOrder,Ee as default};
